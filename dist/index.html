<!DOCTYPE html>
<html>
  <head>
    <title>eBaoCould API Document</title>
    <meta http-equiv="Content-Type" content="text/html" charset="utf-8">
    <link rel="stylesheet" href="main.css">
    <link rel="shortcut icon" href="./favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="eBaoCloud API document restful insurance life">
    <meta name="description" content="eBaoCloud API document">
    <style>
    .logo-img {
      margin-top: 10px;
      height: 35px;
    }
    ul#links_container {
        margin: 10px;
        padding: 5px 20px;
    }
    .lang-bar {
        display: inline-block;
        padding: 15px;
        cursor: pointer;
    }
    .lang-cn {
        background: url(./img/cn.png) no-repeat bottom left;
        background-size:25px 25px;
    }
    .lang-en {
        background: url(./img/en.png) no-repeat bottom left;
        background-size:25px 25px;
    }
    .links {
      float: right;
    }
    </style>
  </head>
  <body>

    <nav>
      <header>  <a href="./"> <img class="logo-img" src="./logo_eBaoCloud.png">API Document </a> </header>
       <div class="links">
          <ul id="links_container"></ul>
       </div>
    </nav>

    <redoc scroll-y-offset="body > nav" lazy-rendering untrusted-spec></redoc>

    <script src="main.js"> </script>
    <script src="redoc.min.js"> </script>
    <script>
      // list of APIS
      var apis = [
        {
          name: 'en',
          url: 'http://apidoc.ebaocloud.life/api/swagger-en.json'
        },
        {
          name: 'cn',
          url: 'http://apidoc.ebaocloud.life/api/swagger-cn.json'
        }
      ];

      // initially render first API
      Redoc.init(apis[0].url);

      function onClick() {
        var url = this.getAttribute('data-link');
        Redoc.init(url);
      }

      // dynamically building navigation items
      var $list = document.getElementById('links_container');
      apis.forEach(function(api) {
        var $listitem = document.createElement('li');
        $listitem.className = 'lang-bar lang-'+api.name;
        $listitem.setAttribute('data-link', api.url);
        $listitem.addEventListener('click', onClick);
        $list.appendChild($listitem);
      });
    </script>
  </body>
</html>
